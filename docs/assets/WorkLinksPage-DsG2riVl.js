import{c as D,r as n,o as le,a3 as _,a4 as i,a5 as t,a6 as c,f as l,al as Q,af as d,a7 as x,ax as ae,F as A,aa as B,a8 as p,ac as b,an as q,a9 as te,ae as oe,ab as se,aI as T,ak as J,am as S,ao as K,N as E,aH as re}from"./index-79czGQqK.js";import{Q as ue}from"./QChip-aG0DaxwM.js";import{a as F}from"./QSelect-BHD0wZau.js";import{Q as ne,a as I}from"./QItem-BsdmP0ml.js";import{Q as N}from"./format-BmYgTvwK.js";import{Q as P}from"./QTooltip-Vk5MiGOE.js";import{Q as ie}from"./QList-C0fPBIGY.js";import{Q as de}from"./QPage-DICk6VGO.js";import{C as R}from"./ClosePopup-67uXvrwW.js";import{u as me}from"./use-quasar-dpwrVnSN.js";import"./position-engine-CuShm7NQ.js";const ce={class:"row items-center q-mb-sm justify-between"},ve={key:0,class:"text-grey"},fe={class:"row q-mb-sm items-center"},pe={key:0,class:"text-grey text-center q-mt-md"},ge={class:"text-h6"},M="work-links",W="work-link-categories",De={__name:"WorkLinksPage",setup(ye){const v=me(),h=D(()=>v.dark.isActive),u=n([]),r=n([]),g=n(!1),k=n(!1),C=n(!1),L=n(-1),s=n({title:"",url:"",category:""}),V=n(""),y=n(null),f=n("");le(()=>{const o=localStorage.getItem(M);if(o)try{u.value=JSON.parse(o)}catch(a){console.error("ÁÑ°Ê≥ïËß£Êûê workLinks Ë≥áÊñô:",a)}const e=localStorage.getItem(W);if(e)try{r.value=JSON.parse(e),r.value.includes("Ë≥áË®äÈÉ®")&&(y.value="Ë≥áË®äÈÉ®")}catch(a){console.error("ÁÑ°Ê≥ïËß£Êûê categories Ë≥áÊñô:",a)}});function w(){localStorage.setItem(M,JSON.stringify(u.value)),localStorage.setItem(W,JSON.stringify(r.value))}function j(){const o=f.value.trim();o&&(r.value.includes(o)?v.notify({type:"warning",message:"ÂàÜÈ°ûÂ∑≤Â≠òÂú®"}):(r.value.push(o),r.value.sort(),w(),f.value=""))}function U(){j(),k.value=!1}function z(){f.value=""}function H(o){const e=r.value[o];if(u.value.some(m=>m.category===e)){v.notify({type:"negative",message:"Ë©≤ÂàÜÈ°ûÊúâÈÄ£Áµê‰ΩøÁî®‰∏≠ÔºåÁÑ°Ê≥ïÂà™Èô§"});return}r.value.splice(o,1),w()}function G(){C.value=!1,s.value={title:"",url:"",category:""},g.value=!0}function X(o){C.value=!0,L.value=o,s.value={...u.value[o]},g.value=!0}function Y(){if(!s.value.title||!s.value.url){v.notify({type:"negative",message:"ÂêçÁ®±ËàáÁ∂≤ÂùÄÁÇ∫ÂøÖÂ°´Ê¨Ñ‰Ωç"});return}if(s.value.category&&!r.value.includes(s.value.category)){v.notify({type:"negative",message:"Ë´ãÈÅ∏ÊìáÊúâÊïàÁöÑÂàÜÈ°û"});return}C.value&&L.value!==-1?u.value[L.value]={...s.value}:u.value.push({...s.value}),w(),g.value=!1}function Z(o){v.dialog({title:"Á¢∫Ë™çÂà™Èô§",message:`ÊòØÂê¶Âà™Èô§„Äå${u.value[o].title}„ÄçÔºü`,cancel:!0,persistent:!0}).onOk(()=>{u.value.splice(o,1),w()})}const O=D(()=>{let o=u.value;if(V.value.trim()){const e=V.value.trim().toLowerCase();o=o.filter(a=>a.title.toLowerCase().includes(e)||a.url.toLowerCase().includes(e))}return y.value&&(o=o.filter(e=>e.category===y.value)),o.map(e=>({link:e,originalIndex:u.value.indexOf(e)}))}),ee=D(()=>[{label:"ÂÖ®ÈÉ®",value:null},...r.value.map(o=>({label:o,value:o}))]);return(o,e)=>(i(),_(de,{class:"q-pa-md"},{default:t(()=>[e[13]||(e[13]=c("div",{class:"text-h5 q-mb-md text-outline"},"üîó Â∑•‰ΩúÂ∏∏Áî®ÈÄ£Áµê",-1)),l(Q,{flat:"",bordered:"",class:"q-pa-md q-mb-lg"},{default:t(()=>[c("div",ce,[e[9]||(e[9]=c("div",{class:"text-subtitle1"},"ÂàÜÈ°ûÁÆ°ÁêÜ",-1)),l(d,{icon:"add",color:"primary",dense:"",round:"",flat:"",onClick:e[0]||(e[0]=a=>k.value=!0),label:"Êñ∞Â¢ûÂàÜÈ°û",class:"q-ml-xs"})]),c("div",null,[(i(!0),x(A,null,B(r.value,(a,m)=>(i(),_(ue,{key:a,removable:"",onRemove:$=>H(m),class:"q-mr-sm q-mb-sm",color:"primary","text-color":"white",dense:""},{default:t(()=>[p(b(a),1)]),_:2},1032,["onRemove"]))),128)),r.value.length===0?(i(),x("div",ve,"Â∞öÁÑ°ÂàÜÈ°ûÔºåË´ãÈªûÊìäÂè≥‰∏äÊñ∞Â¢ûÂàÜÈ°û„ÄÇ")):ae("",!0)])]),_:1}),l(Q,{flat:"",bordered:"",class:"q-pa-md q-mb-md"},{default:t(()=>[c("div",fe,[l(q,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value=a),outlined:"",dense:"",placeholder:"ÊêúÂ∞ãÈÄ£ÁµêÂêçÁ®±ÊàñÁ∂≤ÂùÄ",class:"col",clearable:"","clear-icon":"close"},null,8,["modelValue"]),l(F,{modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=a=>y.value=a),options:ee.value,label:"ÂàÜÈ°ûÁØ©ÈÅ∏",dense:"",outlined:"",class:"q-ml-sm",clearable:"","clear-icon":"close","emit-value":"","map-options":"",style:{"min-width":"150px"}},null,8,["modelValue","options"]),l(d,{icon:"add",label:"Êñ∞Â¢ûÈÄ£Áµê",color:"primary",onClick:G,class:"q-ml-sm"})]),l(te),O.value.length===0?(i(),x("div",pe," Â∞öÁÑ°‰ªª‰ΩïÁ¨¶ÂêàÊ¢ù‰ª∂ÁöÑÈÄ£ÁµêÔºåË´ãÈªûÈÅ∏„ÄåÊñ∞Â¢ûÈÄ£Áµê„ÄçÈñãÂßãÂª∫Á´ã„ÄÇ ")):(i(),_(ie,{key:1,class:"q-mt-md"},{default:t(()=>[(i(!0),x(A,null,B(O.value,({link:a,originalIndex:m})=>(i(),_(ne,{key:m,tag:"a",href:a.url,target:"_blank",class:oe(["rounded-borders shadow-1 q-mb-sm",h.value?"bg-grey-9 text-white":"bg-white text-black"])},{default:t(()=>[l(I,{avatar:""},{default:t(()=>[l(se,{name:"link",color:"primary"})]),_:1}),l(I,null,{default:t(()=>[l(N,{class:"text-bold"},{default:t(()=>[p(b(a.title),1)]),_:2},1024),l(N,{caption:""},{default:t(()=>[p(b(a.url),1)]),_:2},1024),l(N,{caption:"",class:"text-grey-6"},{default:t(()=>[p("ÂàÜÈ°ûÔºö"+b(a.category||"ÁÑ°"),1)]),_:2},1024)]),_:2},1024),l(I,{side:""},{default:t(()=>[l(d,{flat:"",round:"",dense:"",icon:"edit",onClick:T($=>X(m),["stop","prevent"]),color:h.value?"amber":"primary"},{default:t(()=>[l(P,null,{default:t(()=>e[10]||(e[10]=[p("Á∑®ËºØ")])),_:1,__:[10]})]),_:2},1032,["onClick","color"]),l(d,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:T($=>Z(m),["stop","prevent"])},{default:t(()=>[l(P,null,{default:t(()=>e[11]||(e[11]=[p("Âà™Èô§")])),_:1,__:[11]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["href","class"]))),128))]),_:1}))]),_:1}),l(J,{modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=a=>g.value=a),persistent:""},{default:t(()=>[l(Q,{style:{"min-width":"400px"}},{default:t(()=>[l(S,null,{default:t(()=>[c("div",ge,b(C.value?"Á∑®ËºØÈÄ£Áµê":"Êñ∞Â¢ûÈÄ£Áµê"),1)]),_:1}),l(S,null,{default:t(()=>[l(q,{modelValue:s.value.title,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.title=a),label:"ÂêçÁ®±",filled:"",dense:""},null,8,["modelValue"]),l(q,{modelValue:s.value.url,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.url=a),label:"Á∂≤ÂùÄ",filled:"",dense:"",class:"q-mt-sm"},null,8,["modelValue"]),l(F,{modelValue:s.value.category,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.category=a),options:r.value,label:"ÂàÜÈ°û",filled:"",dense:"",class:"q-mt-sm",clearable:"","clear-icon":"close","emit-value":"","map-options":""},null,8,["modelValue","options"])]),_:1}),l(K,{align:"right"},{default:t(()=>[E(l(d,{flat:"",label:"ÂèñÊ∂à",color:"grey"},null,512),[[R]]),l(d,{flat:"",label:"ÂÑ≤Â≠ò",color:"primary",onClick:Y})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(J,{modelValue:k.value,"onUpdate:modelValue":e[8]||(e[8]=a=>k.value=a),persistent:""},{default:t(()=>[l(Q,{style:{"min-width":"300px"}},{default:t(()=>[l(S,null,{default:t(()=>e[12]||(e[12]=[c("div",{class:"text-h6"},"Êñ∞Â¢ûÂàÜÈ°û",-1)])),_:1,__:[12]}),l(S,null,{default:t(()=>[l(q,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=a=>f.value=a),label:"ÂàÜÈ°ûÂêçÁ®±",autofocus:"",dense:"",clearable:"","clear-icon":"close",onKeyup:re(U,["enter"])},null,8,["modelValue"])]),_:1}),l(K,{align:"right"},{default:t(()=>[E(l(d,{flat:"",label:"ÂèñÊ∂à",color:"grey",onClick:z},null,512),[[R]]),l(d,{flat:"",label:"Êñ∞Â¢û",color:"primary",disable:!f.value.trim(),onClick:U},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1,__:[13]}))}};export{De as default};
